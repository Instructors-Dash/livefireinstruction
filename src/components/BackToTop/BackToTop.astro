---
import { ArrowUp } from "lucide-react";
---

<button
	id="back-to-top"
	aria-label="Back to Top"
	class="text-orange focus:ring-orange fixed right-8 bottom-8 z-50 hidden rounded-full bg-white p-3 shadow-lg transition duration-300 hover:bg-gray-100 focus:ring-2 focus:ring-offset-2 focus:outline-none"
>
	<ArrowUp size={24} />
</button>

<script>
	document.addEventListener("astro:page-load", () => {
		const backToTopButton = document.getElementById("back-to-top");

		if (backToTopButton) {
			const toggleVisibility = () => {
				if (window.scrollY > 300) {
					backToTopButton.classList.remove("hidden");
					backToTopButton.classList.add("flex");
				} else {
					backToTopButton.classList.add("hidden");
					backToTopButton.classList.remove("flex");
				}
			};

			const scrollToTop = () => {
				window.scrollTo({
					top: 0,
					behavior: "smooth",
				});
			};

			window.addEventListener("scroll", toggleVisibility);
			backToTopButton.addEventListener("click", scrollToTop);
		}
	});
</script>
